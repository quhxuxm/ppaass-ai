[
    {
        "adapter": "CodeLLDB",
        "label": "Debug Agent",
        "request": "launch",
        "build": {
            "command": "cargo",
            "args": ["build", "--package", "agent"],
        },
        "program": "$ZED_WORKTREE_ROOT/target/debug/agent",
        "cwd": "$ZED_WORKTREE_ROOT",
        "args": ["--config", "config/local/agent.toml"],
        "stopOnEntry": false,
    },
    {
        "adapter": "CodeLLDB",
        "label": "Debug Proxy",
        "request": "launch",
        "build": {
            "command": "cargo",
            "args": ["build", "--package", "proxy"],
        },
        "program": "$ZED_WORKTREE_ROOT/target/debug/proxy",
        "cwd": "$ZED_WORKTREE_ROOT",
        "args": ["--config", "config/local/proxy.toml"],
        "stopOnEntry": false,
    },
    {
        "adapter": "CodeLLDB",
        "label": "Run Mock Target",
        "request": "launch",
        "build": {
            "command": "cargo",
            "args": ["build", "--package", "integration-tests"],
        },
        "program": "$ZED_WORKTREE_ROOT/target/debug/integration-tests",
        "args": ["mock-target"],
        "cwd": "$ZED_WORKTREE_ROOT",
        "stopOnEntry": false,
    },
    {
        "adapter": "CodeLLDB",
        "label": "Run Integration Tests",
        "request": "launch",
        "build": {
            "command": "cargo",
            "args": ["build", "--package", "integration-tests"],
        },
        "program": "$ZED_WORKTREE_ROOT/target/debug/integration-tests",
        "args": ["integration", "--agent-addr", "127.0.0.1:7070", "--proxy-addr", "127.0.0.1:8080"],
        "cwd": "$ZED_WORKTREE_ROOT",
        "stopOnEntry": false,
    },
    {
        "adapter": "CodeLLDB",
        "label": "Debug Agent (Forward)",
        "request": "launch",
        "build": {
            "command": "cargo",
            "args": ["build", "--package", "agent"],
        },
        "program": "$ZED_WORKTREE_ROOT/target/debug/agent",
        "args": ["--config", "config/local/agent-forward.toml"],
        "cwd": "$ZED_WORKTREE_ROOT",
        "stopOnEntry": false,
    },
    {
        "adapter": "CodeLLDB",
        "label": "Debug Proxy (Forward)",
        "request": "launch",
        "build": {
            "command": "cargo",
            "args": ["build", "--package", "proxy"],
        },
        "program": "$ZED_WORKTREE_ROOT/target/debug/proxy",
        "args": ["--config", "config/local/proxy-forward.toml"],
        "cwd": "$ZED_WORKTREE_ROOT",
        "stopOnEntry": false,
    },
]
